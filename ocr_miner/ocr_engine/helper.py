import requests
import logging

IANA_CONTENT = [
    "COM",
    "NET",
    "ORG",
    "JP",
    "DE",
    "UK",
    "FR",
    "BR",
    "IT",
    "RU",
    "ES",
    "ME",
    "GOV",
    "PL",
    "CA",
    "AU",
    "CN",
    "CO",
    "IN",
    "NL",
    "EDU",
    "INFO",
    "EU",
    "CH",
    "ID",
    "AT",
    "KR",
    "CZ",
    "MX",
    "BE",
    "TV",
    "SE",
    "TR",
    "TW",
    "AL",
    "UA",
    "IR",
    "VN",
    "CL",
    "SK",
    "LY",
    "CC",
    "TO",
    "NO",
    "FI",
    "US",
    "PT",
    "DK",
    "AR",
    "HU",
    "TK",
    "GR",
    "IL",
    "NEWS",
    "RO",
    "MY",
    "BIZ",
    "IE",
    "ZA",
    "NZ",
    "SG",
    "EE",
    "TH",
    "IO",
    "XYZ",
    "PE",
    "BG",
    "HK",
    "RS",
    "LT",
    "LINK",
    "PH",
    "CLUB",
    "SI",
    "SITE",
    "MOBI",
    "BY",
    "CAT",
    "WIKI",
    "LA",
    "GA",
    "XXX",
    "CF",
    "HR",
    "NG",
    "JOBS",
    "ONLINE",
    "KZ",
    "UG",
    "GQ",
    "AE",
    "IS",
    "LV",
    "PRO",
    "FM",
    "TIPS",
    "MS",
    "SA",
    "APP",
]

IANA_URL = "https://data.iana.org/TLD/tlds-alpha-by-domain.txt"


def download_iana():
    try:
        global IANA_CONTENT
        tlds = requests.get(IANA_URL)
        if tlds.status_code == 200:
            IANA_CONTENT = tlds.text.split("\n")

    except Exception as e:
        logging.warn("An error occurred while download iana list:", e)


download_iana()
